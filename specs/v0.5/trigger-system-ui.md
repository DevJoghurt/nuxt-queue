# Trigger System UI Specification

> **Version**: v0.5.0  
> **Status**: ğŸ“‹ Planning  
> **Last Updated**: 2025-11-19  
> **Related**: [Trigger System](./trigger-system.md)

## Goal

Integrate the trigger system seamlessly into the existing flow interface and provide comprehensive trigger management, monitoring, and debugging capabilities through dedicated UI views.

## Core Requirements

1. **Integration**: Triggers embedded in existing flow interface
2. **Discovery**: Dedicated triggers page for all registered triggers
3. **Monitoring**: Real-time stats and trigger event logs
4. **Debugging**: Detailed inspection of trigger executions
5. **Management**: Enable/disable, test, and configure triggers

## UI Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Main Navigation                        â”‚
â”‚  [Flows] [Queues] [Triggers]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â†’ Flows Page (Enhanced)
               â”‚   â€¢ Flow diagram with trigger indicators
               â”‚   â€¢ Entry trigger badges
               â”‚   â€¢ Await trigger markers on steps
               â”‚
               â”œâ”€â†’ Triggers Page (New)
               â”‚   â€¢ All triggers overview
               â”‚   â€¢ Filter by type/scope/status
               â”‚   â€¢ Real-time stats
               â”‚   â€¢ Quick actions
               â”‚
               â””â”€â†’ Trigger Detail Page (New)
                   â€¢ Trigger configuration
                   â€¢ Execution history
                   â€¢ Event logs
                   â€¢ Performance metrics
```

## 1. Flow Interface Integration

### 1.1. Flow Diagram Enhancements

**Entry Trigger Indicators**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flow: approval-flow                   [âš™ï¸ Settings]â”‚
â”‚                                                     â”‚
â”‚  ğŸ¯ Entry Triggers (2 active)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ form.submitted         [â—] Auto  [ğŸ“Š Stats] â”‚    â”‚
â”‚  â”‚ Type: event â€¢ Last fired: 2m ago            â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚ manual.approve.form    [â—‹] Manual [â–¶ï¸ Test] â”‚    â”‚
â”‚  â”‚ Type: manual â€¢ Never fired                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚  ğŸ“Š Flow Diagram                                   â”‚
â”‚                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  ğŸ¯â”€â–¶â”‚  start         â”‚                           â”‚
â”‚     â”‚  (Entry Point)  â”‚                           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚              â”‚ emits: approval.requested           â”‚
â”‚              â–¼                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚     â”‚  approve       â”‚ â¸ï¸ Awaits webhook          â”‚
â”‚     â”‚  (Step)        â”‚ â±ï¸ Timeout: 24h            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚              â”‚ emits: approval.received            â”‚
â”‚              â–¼                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚     â”‚  process       â”‚                            â”‚
â”‚     â”‚  (Step)        â”‚                            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Visual Indicators**:
- ğŸ¯ Entry trigger icon on flow start
- â¸ï¸ Await trigger icon on steps with `awaitBefore` or `awaitAfter`
- â±ï¸ Timeout indicator for awaits
- ğŸ”´ Red badge for timed-out awaits
- ğŸŸ¢ Green badge for active awaits
- ğŸ”µ Blue badge for webhook awaits

### 1.2. Flow Run Details Enhancement

**Active Awaits Section**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Run: run-abc-123                    Status: Runningâ”‚
â”‚                                                     â”‚
â”‚  â¸ï¸ Active Awaits (1)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Step: approve                               â”‚  â”‚
â”‚  â”‚ Type: webhook                               â”‚  â”‚
â”‚  â”‚ Webhook URL: /api/_triggers/webhooks/...   â”‚  â”‚
â”‚  â”‚ [ğŸ“‹ Copy URL]                               â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ Status: Waiting for webhook                 â”‚  â”‚
â”‚  â”‚ Registered: 2025-11-19 10:00:00            â”‚  â”‚
â”‚  â”‚ Timeout: 2025-11-20 10:00:00 (22h left)    â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ [ğŸ§ª Test Webhook] [â­ï¸ Skip] [âŒ Cancel]     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  ğŸ“œ Timeline                                       â”‚
â”‚  â”œâ”€ 10:00:00  Flow started                        â”‚
â”‚  â”œâ”€ 10:00:01  Step 'start' completed              â”‚
â”‚  â”œâ”€ 10:00:02  Step 'approve' waiting for webhook  â”‚
â”‚  â””â”€ ...       [Waiting...]                         â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3. Step Configuration Panel

When viewing/editing a step:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step: approve                          [ğŸ’¾ Save]   â”‚
â”‚                                                     â”‚
â”‚  ğŸ“‹ Basic Configuration                            â”‚
â”‚  Name: approve                                     â”‚
â”‚  Queue: approvals                                  â”‚
â”‚  Role: step                                        â”‚
â”‚                                                     â”‚
â”‚  â¸ï¸ Await Configuration                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ When to wait: âšª Before step  âš« After step  â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ Trigger Type: [webhook â–¼]                   â”‚  â”‚
â”‚  â”‚ â€¢ webhook â€¢ event â€¢ schedule â€¢ time         â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ Webhook Path: /approval/{runId}             â”‚  â”‚
â”‚  â”‚ Method: [POST â–¼]                            â”‚  â”‚
â”‚  â”‚ Timeout: 86400000 ms (24 hours)             â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ Schema (Zod):                               â”‚  â”‚
â”‚  â”‚ z.object({                                  â”‚  â”‚
â”‚  â”‚   approved: z.boolean(),                    â”‚  â”‚
â”‚  â”‚   comments: z.string().optional()           â”‚  â”‚
â”‚  â”‚ })                                          â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ [ğŸ§ª Test Schema] [ğŸ“ Generate TypeScript]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  ğŸ”§ Lifecycle Hooks                                â”‚
â”‚  âœ… onAwaitRegister exported                       â”‚
â”‚  âœ… onAwaitResolve exported                        â”‚
â”‚  âŒ onAwaitTimeout not found                       â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Triggers Overview Page

### 2.1. Main Triggers Page

**URL**: `/__queue/triggers`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Triggers                                    [ğŸ”„ Refresh] [+ New]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“Š Overview                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Total        â”‚ Entry        â”‚ Await        â”‚ Last 24h     â”‚    â”‚
â”‚  â”‚ 24           â”‚ 18           â”‚ 6            â”‚ 1,234 fires  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                     â”‚
â”‚  ğŸ” Filters                                                         â”‚
â”‚  Type: [All â–¼] Scope: [All â–¼] Status: [All â–¼] Source: [All â–¼]    â”‚
â”‚  Search: [                                          ]              â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“‹ Triggers List                              Sort by: [Name â–¼]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŸ¢ user.created                          [âš™ï¸] [ğŸ“Š] [ğŸ—‘ï¸]    â”‚  â”‚
â”‚  â”‚ Type: event â€¢ Scope: flow â€¢ Source: auth-module             â”‚  â”‚
â”‚  â”‚ Subscribed by: 2 flows â€¢ Last fired: 5m ago                 â”‚  â”‚
â”‚  â”‚ Fires today: 42 â€¢ Success rate: 98.5%                       â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ”´ stripe.payment.succeeded             [âš™ï¸] [ğŸ“Š] [ğŸ—‘ï¸]    â”‚  â”‚
â”‚  â”‚ Type: webhook â€¢ Scope: flow â€¢ Source: external              â”‚  â”‚
â”‚  â”‚ Subscribed by: 3 flows â€¢ Last fired: 2h ago                 â”‚  â”‚
â”‚  â”‚ Fires today: 156 â€¢ Success rate: 99.8%                      â”‚  â”‚
â”‚  â”‚ âš ï¸ Rate limit: 856/1000                                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ”µ daily.cleanup                        [âš™ï¸] [ğŸ“Š] [ğŸ—‘ï¸]    â”‚  â”‚
â”‚  â”‚ Type: schedule â€¢ Scope: flow â€¢ Source: system               â”‚  â”‚
â”‚  â”‚ Cron: 0 2 * * * â€¢ Next run: in 14h                          â”‚  â”‚
â”‚  â”‚ Subscribed by: 1 flow â€¢ Last fired: 22h ago                 â”‚  â”‚
â”‚  â”‚ Fires this month: 19 â€¢ Success rate: 100%                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸŸ¡ manual.data.import                   [âš™ï¸] [ğŸ“Š] [â–¶ï¸]    â”‚  â”‚
â”‚  â”‚ Type: manual â€¢ Scope: flow â€¢ Source: admin                  â”‚  â”‚
â”‚  â”‚ Subscribed by: 1 flow â€¢ Never fired                         â”‚  â”‚
â”‚  â”‚ [â–¶ï¸ Execute Now]                                            â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â¸ï¸ await:run-abc-123:approve           [ğŸ“Š] [â­ï¸] [âŒ]     â”‚  â”‚
â”‚  â”‚ Type: webhook (ephemeral) â€¢ Scope: run                      â”‚  â”‚
â”‚  â”‚ Flow: approval-flow â€¢ Run: run-abc-123                      â”‚  â”‚
â”‚  â”‚ Status: Waiting â€¢ Timeout in: 22h                           â”‚  â”‚
â”‚  â”‚ [ğŸ§ª Test] [â­ï¸ Resolve] [âŒ Cancel]                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  [Load More]                                         Showing 5/24   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features**:
- **Real-time updates**: Live stats and status updates via WebSocket
- **Color coding**: 
  - ğŸŸ¢ Green: Event triggers (active)
  - ğŸ”´ Red: Webhook triggers (active)
  - ğŸ”µ Blue: Schedule triggers (active)
  - ğŸŸ¡ Yellow: Manual triggers (ready)
  - â¸ï¸ Gray: Await triggers (ephemeral)
- **Quick actions**: Configure, view stats, delete, execute
- **Filtering**: By type, scope, status, source
- **Search**: By name, description, tags

### 2.2. Trigger Statistics Cards

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Trigger Statistics                              â”‚
â”‚                                                     â”‚
â”‚  Past 24 hours                    [24hâ–¼] [7d] [30d]â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                â”‚ â”‚
â”‚  â”‚   1500 â”¤                            â•­â”€â”€â•®      â”‚ â”‚
â”‚  â”‚        â”‚                        â•­â”€â”€â”€â•¯  â•°â”€â•®    â”‚ â”‚
â”‚  â”‚   1000 â”¤                    â•­â”€â”€â”€â•¯        â•°â”€â•®  â”‚ â”‚
â”‚  â”‚        â”‚                â•­â”€â”€â”€â•¯              â•°â”€ â”‚ â”‚
â”‚  â”‚    500 â”¤            â•­â”€â”€â”€â•¯                     â”‚ â”‚
â”‚  â”‚        â”‚        â•­â”€â”€â”€â•¯                         â”‚ â”‚
â”‚  â”‚      0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚        0h    6h    12h   18h   24h            â”‚ â”‚
â”‚  â”‚                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚  By Type                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Event     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  76%  (942)   â”‚  â”‚
â”‚  â”‚ Webhook   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  18%  (223)   â”‚  â”‚
â”‚  â”‚ Schedule  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   5%  ( 62)   â”‚  â”‚
â”‚  â”‚ Manual    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   1%  (  7)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  Top Triggers (by fires)                           â”‚
â”‚  1. user.created              542  (44%)          â”‚
â”‚  2. stripe.payment.succeeded  223  (18%)          â”‚
â”‚  3. order.placed              189  (15%)          â”‚
â”‚  4. form.submitted            156  (13%)          â”‚
â”‚  5. daily.cleanup              1   (<1%)          â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Trigger Detail Page

### 3.1. Trigger Detail View

**URL**: `/__queue/triggers/:triggerName`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Triggers        stripe.payment.succeeded     [âš™ï¸ Edit]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“‹ Configuration                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Name: stripe.payment.succeeded                              â”‚  â”‚
â”‚  â”‚ Type: webhook                                               â”‚  â”‚
â”‚  â”‚ Scope: flow (entry trigger)                                 â”‚  â”‚
â”‚  â”‚ Display Name: Stripe Payment Succeeded                      â”‚  â”‚
â”‚  â”‚ Source: external                                            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Endpoint: POST /api/_triggers/webhooks/stripe               â”‚  â”‚
â”‚  â”‚ [ğŸ“‹ Copy URL]                                               â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Authentication: Signature (HMAC-SHA256)                     â”‚  â”‚
â”‚  â”‚ Header: stripe-signature                                    â”‚  â”‚
â”‚  â”‚ Secret: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢ [ğŸ‘ï¸ Show]                          â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Schema: (Zod)                                               â”‚  â”‚
â”‚  â”‚ z.object({                                                  â”‚  â”‚
â”‚  â”‚   type: z.literal('payment_intent.succeeded'),              â”‚  â”‚
â”‚  â”‚   data: z.object({ ... })                                   â”‚  â”‚
â”‚  â”‚ })                                                          â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Rate Limit: 1000 requests / hour                            â”‚  â”‚
â”‚  â”‚ Current: 856/1000 (85.6%)                                   â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Retention: 365 days                                         â”‚  â”‚
â”‚  â”‚ Status: ğŸŸ¢ Active                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”— Subscribed Flows (3)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ payment-flow (auto)          Last triggered: 5m ago       â”‚  â”‚
â”‚  â”‚ â€¢ order-processing (auto)      Last triggered: 12m ago      â”‚  â”‚
â”‚  â”‚ â€¢ notification-flow (manual)   Last triggered: 2h ago       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“Š Statistics                                      [Refresh]       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Total Fires   â”‚ Success Rate  â”‚ Avg Response  â”‚ Last 24h     â”‚ â”‚
â”‚  â”‚ 12,456        â”‚ 99.8%         â”‚ 42ms          â”‚ 156          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“ˆ Activity (Last 7 days)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  200 â”¤        â•­â”€â•®              â•­â”€â•®            â•­â”€â•®          â”‚  â”‚
â”‚  â”‚      â”‚    â•­â”€â•® â”‚ â”‚          â•­â”€â•® â”‚ â”‚        â•­â”€â•® â”‚ â”‚          â”‚  â”‚
â”‚  â”‚  100 â”¤    â”‚ â”‚ â”‚ â”‚      â•­â”€â•® â”‚ â”‚ â”‚ â”‚    â•­â”€â•® â”‚ â”‚ â”‚ â”‚          â”‚  â”‚
â”‚  â”‚      â”‚â•­â”€â•® â”‚ â”‚ â”‚ â”‚  â•­â”€â•® â”‚ â”‚ â”‚ â”‚ â”‚ â”‚â•­â”€â•® â”‚ â”‚ â”‚ â”‚ â”‚ â”‚          â”‚  â”‚
â”‚  â”‚    0 â””â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”€        â”‚  â”‚
â”‚  â”‚      Mon Tue Wed Thu Fri Sat Sun                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“œ Recent Executions                     [View All] [Filter â–¼]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… 2025-11-19 10:05:23  run-def-456              42ms  [â†—ï¸]  â”‚  â”‚
â”‚  â”‚    â†’ Flows triggered: payment-flow (run-xyz-789)            â”‚  â”‚
â”‚  â”‚    â†’ Data: { paymentId: 'pi_123', amount: 99.99 }          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ âœ… 2025-11-19 10:03:12  run-ghi-789              38ms  [â†—ï¸]  â”‚  â”‚
â”‚  â”‚    â†’ Flows triggered: payment-flow, order-processing        â”‚  â”‚
â”‚  â”‚    â†’ Data: { paymentId: 'pi_124', amount: 149.99 }         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ âŒ 2025-11-19 10:01:45  run-jkl-012            Failed  [â†—ï¸]  â”‚  â”‚
â”‚  â”‚    â†’ Error: Invalid signature                               â”‚  â”‚
â”‚  â”‚    â†’ No flows triggered                                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ âœ… 2025-11-19 09:58:33  run-mno-345              41ms  [â†—ï¸]  â”‚  â”‚
â”‚  â”‚    â†’ Flows triggered: payment-flow (run-pqr-678)            â”‚  â”‚
â”‚  â”‚    â†’ Data: { paymentId: 'pi_125', amount: 199.99 }         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ§ª Testing                                                        â”‚
â”‚  [ğŸ§ª Test Webhook] [ğŸ“ Generate cURL] [ğŸ” View Logs]             â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2. Trigger Execution Detail

**URL**: `/__queue/triggers/:triggerName/runs/:runId`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back   stripe.payment.succeeded / run-def-456                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  âœ… Execution Successful                     42ms                   â”‚
â”‚  Received: 2025-11-19 10:05:23.456                                 â”‚
â”‚  Processed: 2025-11-19 10:05:23.498                                â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“¥ Request                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Method: POST                                                 â”‚  â”‚
â”‚  â”‚ Path: /api/_triggers/webhooks/stripe                         â”‚  â”‚
â”‚  â”‚ IP: 54.187.174.169 (stripe.com)                              â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Headers:                                                     â”‚  â”‚
â”‚  â”‚ {                                                            â”‚  â”‚
â”‚  â”‚   "stripe-signature": "t=1700394723,v1=...",               â”‚  â”‚
â”‚  â”‚   "content-type": "application/json",                       â”‚  â”‚
â”‚  â”‚   "user-agent": "Stripe/1.0"                                â”‚  â”‚
â”‚  â”‚ }                                                            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Body:                                                        â”‚  â”‚
â”‚  â”‚ {                                                            â”‚  â”‚
â”‚  â”‚   "type": "payment_intent.succeeded",                       â”‚  â”‚
â”‚  â”‚   "data": {                                                  â”‚  â”‚
â”‚  â”‚     "object": {                                              â”‚  â”‚
â”‚  â”‚       "id": "pi_123",                                        â”‚  â”‚
â”‚  â”‚       "amount": 9999,                                        â”‚  â”‚
â”‚  â”‚       "currency": "usd"                                      â”‚  â”‚
â”‚  â”‚     }                                                        â”‚  â”‚
â”‚  â”‚   }                                                          â”‚  â”‚
â”‚  â”‚ }                                                            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ [ğŸ“‹ Copy JSON] [ğŸ“¥ Download]                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  âœ… Validation                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… Signature verified                                        â”‚  â”‚
â”‚  â”‚ âœ… Schema validation passed                                  â”‚  â”‚
â”‚  â”‚ âœ… Rate limit check passed (856/1000)                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”„ Transformation                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Transformed data:                                            â”‚  â”‚
â”‚  â”‚ {                                                            â”‚  â”‚
â”‚  â”‚   "paymentId": "pi_123",                                     â”‚  â”‚
â”‚  â”‚   "amount": 99.99,                                           â”‚  â”‚
â”‚  â”‚   "currency": "usd"                                          â”‚  â”‚
â”‚  â”‚ }                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ¯ Flows Triggered (1)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… payment-flow                                              â”‚  â”‚
â”‚  â”‚    Mode: auto                                                â”‚  â”‚
â”‚  â”‚    Run ID: run-xyz-789                                       â”‚  â”‚
â”‚  â”‚    Started: 2025-11-19 10:05:23.502                          â”‚  â”‚
â”‚  â”‚    Status: Running                                           â”‚  â”‚
â”‚  â”‚    [ğŸ‘ï¸ View Flow Run]                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“œ Event Log                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 10:05:23.456  Webhook received                               â”‚  â”‚
â”‚  â”‚ 10:05:23.459  Authentication started                         â”‚  â”‚
â”‚  â”‚ 10:05:23.462  âœ… Signature verified                          â”‚  â”‚
â”‚  â”‚ 10:05:23.465  Schema validation started                      â”‚  â”‚
â”‚  â”‚ 10:05:23.468  âœ… Schema validation passed                    â”‚  â”‚
â”‚  â”‚ 10:05:23.471  Rate limit check                               â”‚  â”‚
â”‚  â”‚ 10:05:23.474  âœ… Rate limit OK (856/1000)                    â”‚  â”‚
â”‚  â”‚ 10:05:23.477  Transform function applied                     â”‚  â”‚
â”‚  â”‚ 10:05:23.480  Trigger run created (run-def-456)              â”‚  â”‚
â”‚  â”‚ 10:05:23.485  Checking subscribed flows (3 found)            â”‚  â”‚
â”‚  â”‚ 10:05:23.490  Flow 'payment-flow' mode: auto â†’ triggering    â”‚  â”‚
â”‚  â”‚ 10:05:23.495  Flow 'order-processing' mode: manual â†’ skipped â”‚  â”‚
â”‚  â”‚ 10:05:23.497  Flow 'notification-flow' mode: manual â†’ skippedâ”‚  â”‚
â”‚  â”‚ 10:05:23.498  âœ… Processing complete                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4. Await Triggers Monitoring

### 4.1. Active Awaits Dashboard

**URL**: `/__queue/triggers/awaits`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Active Awaits                               [ğŸ”„ Refresh] [Filter]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“Š Overview                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Active       â”‚ Webhook      â”‚ Event        â”‚ Timeout Soon â”‚    â”‚
â”‚  â”‚ 12           â”‚ 8            â”‚ 3            â”‚ 2            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                     â”‚
â”‚  âš ï¸ Expiring Soon (< 1 hour)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â±ï¸ approval-flow / run-abc-123 / approve                    â”‚  â”‚
â”‚  â”‚    Webhook await â€¢ Timeout in: 45m                           â”‚  â”‚
â”‚  â”‚    [ğŸ§ª Test] [â­ï¸ Resolve] [â° Extend]                        â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â±ï¸ order-flow / run-def-456 / payment                       â”‚  â”‚
â”‚  â”‚    Webhook await â€¢ Timeout in: 28m                           â”‚  â”‚
â”‚  â”‚    [ğŸ§ª Test] [â­ï¸ Resolve] [â° Extend]                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸŸ¢ Active Awaits                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŒ data-pipeline / run-ghi-789 / process                    â”‚  â”‚
â”‚  â”‚    Event: external.job.completed â€¢ Filter: jobId            â”‚  â”‚
â”‚  â”‚    Waiting since: 10:00:00 (5m) â€¢ Timeout: 55m left         â”‚  â”‚
â”‚  â”‚    [ğŸ“Š Details] [â­ï¸ Resolve] [âŒ Cancel]                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸŒ approval-flow / run-jkl-012 / approve                    â”‚  â”‚
â”‚  â”‚    Webhook: /approval/run-jkl-012                            â”‚  â”‚
â”‚  â”‚    Waiting since: 09:30:00 (35m) â€¢ Timeout: 23h 25m left    â”‚  â”‚
â”‚  â”‚    [ğŸ“‹ Copy URL] [ğŸ§ª Test] [â­ï¸ Resolve] [âŒ Cancel]         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“… report-flow / run-mno-345 / generate                     â”‚  â”‚
â”‚  â”‚    Schedule: 0 9 * * * â€¢ Next: 2025-11-20 09:00:00         â”‚  â”‚
â”‚  â”‚    Waiting since: 08:00:00 (2h) â€¢ Next run: 23h left        â”‚  â”‚
â”‚  â”‚    [ğŸ“Š Details] [â­ï¸ Skip Wait] [âŒ Cancel]                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â° notification-flow / run-pqr-678 / delay                  â”‚  â”‚
â”‚  â”‚    Time delay: 5 minutes                                     â”‚  â”‚
â”‚  â”‚    Waiting since: 10:03:00 (2m) â€¢ Remaining: 3m             â”‚  â”‚
â”‚  â”‚    [â­ï¸ Skip Wait] [âŒ Cancel]                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  [Load More]                                          Showing 4/12  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2. Await Detail View

**URL**: `/__queue/triggers/awaits/:runId/:stepId`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back   Await: approval-flow / run-abc-123 / approve            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸŸ¢ Status: Waiting for Webhook                                    â”‚
â”‚  Registered: 2025-11-19 10:00:00                                   â”‚
â”‚  Timeout: 2025-11-20 10:00:00 (22h 15m remaining)                  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“‹ Configuration                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Type: webhook                                                â”‚  â”‚
â”‚  â”‚ Position: awaitBefore (step will execute after webhook)     â”‚  â”‚
â”‚  â”‚ Path: /approval/run-abc-123                                  â”‚  â”‚
â”‚  â”‚ Method: POST                                                 â”‚  â”‚
â”‚  â”‚ Full URL: https://api.example.com/api/_triggers/webhooks... â”‚  â”‚
â”‚  â”‚ [ğŸ“‹ Copy URL]                                               â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Schema:                                                      â”‚  â”‚
â”‚  â”‚ z.object({                                                   â”‚  â”‚
â”‚  â”‚   approved: z.boolean(),                                     â”‚  â”‚
â”‚  â”‚   comments: z.string().optional()                            â”‚  â”‚
â”‚  â”‚ })                                                           â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Timeout Action: fail                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”— Flow Context                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Flow: approval-flow                                          â”‚  â”‚
â”‚  â”‚ Run: run-abc-123                                             â”‚  â”‚
â”‚  â”‚ Step: approve                                                â”‚  â”‚
â”‚  â”‚ [ğŸ‘ï¸ View Flow Run]                                          â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Step Data (available for webhook):                          â”‚  â”‚
â”‚  â”‚ {                                                            â”‚  â”‚
â”‚  â”‚   "formId": "form-xyz-789",                                  â”‚  â”‚
â”‚  â”‚   "reviewerEmail": "reviewer@example.com"                    â”‚  â”‚
â”‚  â”‚ }                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  âœ… Lifecycle Hooks Executed                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… onAwaitRegister (10:00:00.234)                            â”‚  â”‚
â”‚  â”‚    â†’ Sent approval email to reviewer@example.com             â”‚  â”‚
â”‚  â”‚    â†’ Duration: 142ms                                         â”‚  â”‚
â”‚  â”‚    [ğŸ“œ View Logs]                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ§ª Testing Tools                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Test Webhook                                                 â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Payload (JSON):                                              â”‚  â”‚
â”‚  â”‚ {                                                            â”‚  â”‚
â”‚  â”‚   "approved": true,                                          â”‚  â”‚
â”‚  â”‚   "comments": "Looks good!"                                  â”‚  â”‚
â”‚  â”‚ }                                                            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ [ğŸ§ª Send Test Request] [ğŸ“ Generate cURL]                   â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ cURL Command:                                                â”‚  â”‚
â”‚  â”‚ curl -X POST https://api.example.com/api/_triggers/...      â”‚  â”‚
â”‚  â”‚   -H "Content-Type: application/json"                       â”‚  â”‚
â”‚  â”‚   -d '{"approved":true,"comments":"Looks good!"}'            â”‚  â”‚
â”‚  â”‚ [ğŸ“‹ Copy]                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚  âš¡ Actions                                                        â”‚
â”‚  [â­ï¸ Resolve Manually] [â° Extend Timeout] [âŒ Cancel Await]      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. UI Components

### 5.1. Trigger Status Badge

```tsx
// Component usage
<TriggerStatusBadge 
  type="webhook" 
  status="active" 
  scope="flow" 
/>

// Renders:
ğŸ”´ Active â€¢ Webhook â€¢ Flow
```

**Variants**:
- Status: `active`, `inactive`, `waiting`, `failed`, `timeout`
- Type: `event`, `webhook`, `schedule`, `manual`, `time`
- Scope: `flow`, `run`

### 5.2. Await Timeline Component

```tsx
<AwaitTimeline
  registeredAt="2025-11-19T10:00:00Z"
  timeout={86400000}
  currentTime={Date.now()}
/>

// Renders visual timeline:
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
10:00     Now (2h)                              Timeout (22h)
```

### 5.3. Trigger Execution List

Real-time updating list component:

```tsx
<TriggerExecutionList
  triggerId="stripe.payment.succeeded"
  limit={10}
  autoRefresh={true}
  refreshInterval={5000}
/>
```

## 6. Real-Time Updates

### 6.1. WebSocket Events

**Subscribe to trigger updates**:

```typescript
// Client-side
const ws = useWebSocket('/__queue/triggers/ws')

ws.on('trigger.fired', (data) => {
  // Update trigger stats
  // Show notification
  // Update execution list
})

ws.on('trigger.await.registered', (data) => {
  // Add to active awaits list
})

ws.on('trigger.await.resolved', (data) => {
  // Remove from active awaits
  // Update flow run timeline
})

ws.on('trigger.await.timeout', (data) => {
  // Show warning
  // Update status
})
```

### 6.2. Server-Sent Events

Alternative to WebSocket for simpler real-time updates:

```typescript
// GET /__queue/triggers/events
const eventSource = new EventSource('/__queue/triggers/events')

eventSource.addEventListener('stats', (e) => {
  const stats = JSON.parse(e.data)
  updateDashboard(stats)
})
```

## 7. Developer Tools

### 7.1. Webhook Testing Tool

Built-in tool to test webhook triggers:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§ª Test Webhook: stripe.payment.succeeded         â”‚
â”‚                                                     â”‚
â”‚  Method: POST                                       â”‚
â”‚  URL: /api/_triggers/webhooks/stripe               â”‚
â”‚                                                     â”‚
â”‚  Headers:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Content-Type: application/json              â”‚  â”‚
â”‚  â”‚ stripe-signature: [Generate â–¼]              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  Body (JSON):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ {                                            â”‚  â”‚
â”‚  â”‚   "type": "payment_intent.succeeded",        â”‚  â”‚
â”‚  â”‚   "data": {                                  â”‚  â”‚
â”‚  â”‚     "object": {                              â”‚  â”‚
â”‚  â”‚       "id": "pi_test_123",                   â”‚  â”‚
â”‚  â”‚       "amount": 9999,                        â”‚  â”‚
â”‚  â”‚       "currency": "usd"                      â”‚  â”‚
â”‚  â”‚     }                                        â”‚  â”‚
â”‚  â”‚   }                                          â”‚  â”‚
â”‚  â”‚ }                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  [ğŸ§ª Send Request] [ğŸ“ Use Sample] [ğŸ—‘ï¸ Clear]    â”‚
â”‚                                                     â”‚
â”‚  Response:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… 200 OK (42ms)                            â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ {                                            â”‚  â”‚
â”‚  â”‚   "triggerId": "stripe.payment.succeeded",   â”‚  â”‚
â”‚  â”‚   "runId": "run-test-123",                   â”‚  â”‚
â”‚  â”‚   "received": true,                          â”‚  â”‚
â”‚  â”‚   "flowsTriggered": ["payment-flow"]         â”‚  â”‚
â”‚  â”‚ }                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2. Trigger Logs Viewer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“œ Logs: stripe.payment.succeeded                  â”‚
â”‚                                [ğŸ”„] [â¸ï¸] [ğŸ“¥ Export]â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [10:05:23] INFO  Webhook received            â”‚  â”‚
â”‚  â”‚ [10:05:23] DEBUG Auth check started          â”‚  â”‚
â”‚  â”‚ [10:05:23] DEBUG Signature: t=1700394723...  â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  âœ… Signature verified       â”‚  â”‚
â”‚  â”‚ [10:05:23] DEBUG Schema validation started   â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  âœ… Schema valid             â”‚  â”‚
â”‚  â”‚ [10:05:23] DEBUG Transform function applied  â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  Trigger run created         â”‚  â”‚
â”‚  â”‚ [10:05:23] DEBUG Flow lookup: 3 subscribers  â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  âœ… Flow triggered: payment â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  â­ï¸ Flow skipped: order    â”‚  â”‚
â”‚  â”‚ [10:05:23] INFO  Processing complete         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  Filters: [Level â–¼] [Time Range â–¼] [Search...]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8. Mobile Responsiveness

All views must be mobile-responsive:

**Mobile Trigger List**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Search triggers...   â”‚
â”‚ [Type â–¼] [Status â–¼]    â”‚
â”‚                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ user.created     â”‚ â”‚
â”‚ â”‚ Event â€¢ 5m ago      â”‚ â”‚
â”‚ â”‚ 42 today â€¢ 98.5%    â”‚ â”‚
â”‚ â”‚ [âš™ï¸] [ğŸ“Š]           â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸ”´ stripe.payment   â”‚ â”‚
â”‚ â”‚ Webhook â€¢ 2h ago    â”‚ â”‚
â”‚ â”‚ 156 today â€¢ 99.8%   â”‚ â”‚
â”‚ â”‚ [âš™ï¸] [ğŸ“Š]           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ [Load More]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9. Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| `g t` | Go to triggers page |
| `g a` | Go to active awaits |
| `/` | Focus search |
| `r` | Refresh current view |
| `n` | New trigger |
| `?` | Show keyboard shortcuts |

## 10. Accessibility

- **ARIA labels** on all interactive elements
- **Keyboard navigation** for all actions
- **Screen reader support** for status updates
- **Color-blind friendly** status indicators
- **Focus indicators** clearly visible
- **Alt text** for all visual indicators

## Implementation Priorities

### Phase 1: Core Integration
1. Flow diagram trigger indicators
2. Basic triggers list page
3. Trigger detail view
4. Real-time stats

### Phase 2: Monitoring
1. Active awaits dashboard
2. Execution history
3. Log viewer
4. WebSocket live updates

### Phase 3: Developer Tools
1. Webhook testing tool
2. Manual trigger execution
3. cURL generator
4. Schema validator

### Phase 4: Polish
1. Mobile optimization
2. Keyboard shortcuts
3. Advanced filtering
4. Export/import functionality
